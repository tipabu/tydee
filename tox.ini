[tox]
envlist = py35,py27,pep8,py35-dnspython,py27-dnspython

[testenv]
deps = nose
commands = find . -type f -name "*.py[c|o]" -delete
           find . -type d -name "__pycache__" -delete
           nosetests {posargs:tests/unit tests/functional}
whitelist_externals = find

[testenv:py27-dnspython]
basepython = python2.7
deps = nose
       dnspython

[testenv:py35-dnspython]
basepython = python3.5
deps = nose
       dnspython

[testenv:pep8]
basepython = python2.7
deps = flake8
skip_install = true
commands = flake8 {posargs:tydee tests setup.py}
